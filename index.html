<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Daftar Tugas Harian</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="manifest" href="/my_web.github.io/manifest.json" />
  <style>
    /* Tambahkan style untuk border dan tata letak di bagian atas */
    .install-container {
      display: none; /* Awalnya tidak terlihat */
      border: 2px solid #007bff;
      padding: 10px;
      margin-bottom: 20px;
      text-align: center;
      background-color: #f8f9fa;
    }
    
    .install-button {
      padding: 10px 20px;
      background-color: #007bff;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 5px;
    }
    
    .install-button:hover {
      background-color: #0056b3;
    }

    .install-text {
      margin-right: 15px;
    }
  </style>
  </head>
  <body>
  <div class="install-container" id="installContainer">
    <span class="install-text">Instal aplikasi ini untuk pengalaman yang lebih baik.</span>
    <button class="install-button" id="installButton">Instal Aplikasi</button>
  </div>
    <div class="container">
      <h1>Daftar Tugas Harian</h1>
      <div>
        <input type="text" id="taskInput" placeholder="Deskripsi tugas..." />
        <select id="dayInput">
          <option value="Senin">Senin</option>
          <option value="Selasa">Selasa</option>
          <option value="Rabu">Rabu</option>
          <option value="Kamis">Kamis</option>
          <option value="Jumat">Jumat</option>
          <option value="Sabtu">Sabtu</option>
          <option value="Minggu">Minggu</option>
        </select>
        <input type="text" id="subjectInput" placeholder="Mata Pelajaran..." />
        <button id="addTaskButton">Tambah</button>
      </div>
      <ul id="taskList"></ul>
    </div>
  <script>
    let deferredPrompt;
    const installContainer = document.getElementById('installContainer');
    const installButton = document.getElementById('installButton');

    window.addEventListener('beforeinstallprompt', (e) => {
      console.log('Event beforeinstallprompt terdeteksi');
      // Cegah prompt otomatis muncul
      e.preventDefault();
      deferredPrompt = e;
      // Tampilkan kontainer instalasi dengan tombol dan teks
      installContainer.style.display = 'block';
    });

    installButton.addEventListener('click', () => {
      console.log('Tombol instalasi di-klik');
      // Sembunyikan tombol dan teks
      installContainer.style.display = 'none';
      // Tampilkan prompt instalasi
      deferredPrompt.prompt();
      // Tunggu pengguna memilih
      deferredPrompt.userChoice.then((choiceResult) => {
        if (choiceResult.outcome === 'accepted') {
          console.log('Pengguna menerima instalasi PWA.');
        } else {
          console.log('Pengguna menolak instalasi PWA.');
        }
        deferredPrompt = null;
      });
    });

    window.addEventListener('appinstalled', () => {
      console.log('PWA telah terinstal!');
      // Sembunyikan kontainer setelah aplikasi terinstal
      installContainer.style.display = 'none';
    });
  </script>
    <script src="script.js"></script>
    <script src="/my_web.github.io/service-worker.js"></script>
  </body>
</html>
